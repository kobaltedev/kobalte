import { Preview, TabsSnippets, Kbd } from "../../../../components";
import {
  BasicExample,
  MultipleSkeletonsExample,
  ToggleExample,
} from "../../../../examples/skeleton";

# Skeleton

Visually indicates content loading

## Import

```ts
import { Skeleton } from "@kobalte/core";
```

## Features

- Support for custom width and height.
- Support for circle skeleton.
- Can toggle visiblity and animation properties.

## Anatomy

The skeleton consists of:

- **Skeleton.Root:** The root container for a skeleton.

```tsx
<Skeleton.Root />
```

## Example

<Preview>
  <BasicExample />
</Preview>

<TabsSnippets>
  <TabsSnippets.List>
    <TabsSnippets.Trigger value="index.tsx">index.tsx</TabsSnippets.Trigger>
    <TabsSnippets.Trigger value="style.css">style.css</TabsSnippets.Trigger>
  </TabsSnippets.List>
{/* <!-- prettier-ignore-start -->*/}
  <TabsSnippets.Content value="index.tsx">
    ```tsx
    import { Skeleton } from "@kobalte/core";
    import "./style.css";

    function App() {
      return (
      <Skeleton.Root class="skeleton" radius={10}>
        <p>
          A UI toolkit for building accessible web apps and design systems with SolidJS.
        </p>
      </Skeleton.Root>
      );
    }
    ```

  </TabsSnippets.Content>
  <TabsSnippets.Content value="style.css">
    ```css
    @keyframes skeleton-fade {
      0%,
      100% {
        opacity: 0.4;
      }

      50% {
        opacity: 1;
      }
    }

    .skeleton {
      height: auto;
      width: 100%;
      position: relative;
      transform: translateZ(0);
      -webkit-transform: translateZ(0);
    }
    .skeleton[data-animate="true"]::after {
      animation: skeleton-fade 1500ms linear infinite;
    }

    .skeleton[data-visible="true"] {
      overflow: hidden;
    }
    .skeleton[data-visible="true"]::before {
      position: absolute;
      content: "";
      inset: 0;
      z-index: 10;
      background-color: white;
    }

    .skeleton[data-visible="true"]::after {
      position: absolute;
      content: "";
      inset: 0;
      z-index: 11;
      background-color: gray;
    }
    ```

  </TabsSnippets.Content>
{/* <!-- prettier-ignore-end -->*/}
</TabsSnippets>

## Usage

### Multiple skeletons

<Preview>
  <MultipleSkeletonsExample />
</Preview>

<TabsSnippets>
  <TabsSnippets.List>
    <TabsSnippets.Trigger value="index.tsx">index.tsx</TabsSnippets.Trigger>
    <TabsSnippets.Trigger value="style.css">style.css</TabsSnippets.Trigger>
  </TabsSnippets.List>
{/* <!-- prettier-ignore-start -->*/}
  <TabsSnippets.Content value="index.tsx">
    ```tsx
    import { Skeleton, Image } from "@kobalte/core";
    import "./style.css";

    function App() {
      return (
        <div class="multiple-root">
          <div class="multiple-profile">
            <Skeleton.Root class="skeleton" height={50} circle>
              <Image.Root class="multiple-avatar">
                <Image.Img
                  class="image__img"
                  src="https://pbs.twimg.com/profile_images/1509139491671445507/pzWYjlYN_400x400.jpg"
                  alt="Nicole Steeves"
                />
              </Image.Root>
            </Skeleton.Root>
            <Skeleton.Root class="skeleton" height={20} radius={10}>
              Kobalte
            </Skeleton.Root>
          </div>
          <Skeleton.Root class="skeleton" radius={10}>
            <p>
              A UI toolkit for building accessible web apps and design systems with SolidJS.
            </p>
          </Skeleton.Root>
        </div>
      );
    }
    ```

  </TabsSnippets.Content>
  <TabsSnippets.Content value="style.css">
    ```css
    @keyframes skeleton-fade {
      0%,
      100% {
        opacity: 0.4;
      }

      50% {
        opacity: 1;
      }
    }

    .skeleton {
      height: auto;
      width: 100%;
      position: relative;
      transform: translateZ(0);
      -webkit-transform: translateZ(0);
    }
    .skeleton[data-animate="true"]::after {
      animation: skeleton-fade 1500ms linear infinite;
    }

    .skeleton[data-visible="true"] {
      overflow: hidden;
    }
    .skeleton[data-visible="true"]::before {
      position: absolute;
      content: "";
      inset: 0;
      z-index: 10;
      background-color: white;
    }

    .skeleton[data-visible="true"]::after {
      position: absolute;
      content: "";
      inset: 0;
      z-index: 11;
      background-color: gray;
    }

    .multiple-root {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .multiple-profile {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    ```

  </TabsSnippets.Content>
{/* <!-- prettier-ignore-end -->*/}
</TabsSnippets>

### Toggle example

<Preview>
  <ToggleExample />
</Preview>

<TabsSnippets>
  <TabsSnippets.List>
    <TabsSnippets.Trigger value="index.tsx">index.tsx</TabsSnippets.Trigger>
    <TabsSnippets.Trigger value="style.css">style.css</TabsSnippets.Trigger>
  </TabsSnippets.List>
{/* <!-- prettier-ignore-start -->*/}
  <TabsSnippets.Content value="index.tsx">
    ```tsx
    import { Skeleton, ToggleButton } from "@kobalte/core";
    import "./style.css";

    function App() {
      const [visible, setVisible] = createSignal(true);
      return (
        <div class="toggle-root">
          <ToggleButton.Root class="toggle-button" pressed={visible()} onChange={setVisible}>
            Skeleton {visible() ? "Visible" : "Not Visible"}
          </ToggleButton.Root>
          <Skeleton.Root class="skeleton" visible={visible()}>
            <p>
              A UI toolkit for building accessible web apps and design systems with SolidJS.
            </p>
          </Skeleton.Root>
        </div>
      );
    }
    ```

  </TabsSnippets.Content>
  <TabsSnippets.Content value="style.css">
    ```css
    @keyframes skeleton-fade {
      0%,
      100% {
        opacity: 0.4;
      }

      50% {
        opacity: 1;
      }
    }

    .skeleton {
      height: auto;
      width: 100%;
      position: relative;
      transform: translateZ(0);
      -webkit-transform: translateZ(0);
    }
    .skeleton[data-animate="true"]::after {
      animation: skeleton-fade 1500ms linear infinite;
    }

    .skeleton[data-visible="true"] {
      overflow: hidden;
    }
    .skeleton[data-visible="true"]::before {
      position: absolute;
      content: "";
      inset: 0;
      z-index: 10;
      background-color: white;
    }

    .skeleton[data-visible="true"]::after {
      position: absolute;
      content: "";
      inset: 0;
      z-index: 11;
      background-color: gray;
    }

    .toggle-root {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .toggle-button {
      appearance: none;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      height: 40px;
      width: 50%;
      outline: none;
      border-radius: 6px;
      background-color: hsl(200 98% 39%);
      color: white;
      font-size: 16px;
      line-height: 0;
    }

    .toggle-button:focus-visible {
      outline: 2px solid hsl(200 98% 39%);
      outline-offset: 2px;
    }

    .toggle-button[data-pressed] {
      background-color: hsl(0 72% 51%);
    }
    ```

  </TabsSnippets.Content>
{/* <!-- prettier-ignore-end -->*/}
</TabsSnippets>

## API Reference

### Skeleton.Root

| Prop     | Description                                                                                          |
| :------- | :--------------------------------------------------------------------------------------------------- |
| visible  | `boolean` <br/> The visible state of the Skeleton. Sets the `data-visible` data attribute.           |
| animate  | `boolean` <br/> Whether the skeleton should animate. Sets the `data-animate` data attribute.         |
| width    | `number` <br/> The width of the skeleton in px. Defaults to 100%.                                    |
| height   | `number` <br/> The height of the skeleton in px. Defaults to auto.                                   |
| radius   | `number` <br/> Roundness of the skeleton in px. Sets border-radius.                                  |
| circle   | `boolean` <br/> Whether the skeleton should be a circle. Sets border-radius and width to the height. |
| children | `JSX.Element` <br/> The children of the Skeleton.                                                    |

| Data attribute | Description                            |
| :------------- | :------------------------------------- |
| data-visible   | Present when the Skeleton is visible.  |
| data-animate   | Present when the Skeleton can animate. |

## Rendered elements

| Component       | Default rendered element |
| :-------------- | :----------------------- |
| `Skeleton.Root` | `div`                    |
